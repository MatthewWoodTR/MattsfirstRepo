<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trial Balance Import - Consolidation-Aware Column Mapping</title>
    <style>

    </style>
    <link rel="stylesheet" href="duplicate-prevention/conflict-visual-indicators.css">
    <link rel="stylesheet" href="styles-and-scripts/ssimportstyle.css">
</head>
<body>
    <!-- Header -->
    <div class="header">
        <div class="logo-section">
            <div class="logo">TR</div>
            <div class="app-title">
                Thomson Reuters <span class="app-subtitle">Engagement Manager</span>
            </div>
        </div>
        <div class="header-actions">
            <div class="header-icon" title="Settings">‚öô</div>
            <div class="header-icon" title="Help">?</div>
            <div class="header-icon" title="Notifications">üîî</div>
            <div class="header-icon" title="Apps">‚äû</div>
            <div class="header-icon" title="Profile">üë§</div>
        </div>
    </div>

    <!-- Main Container -->
    <div class="main-container">
        <!-- Left Navigation -->
        <div class="left-nav">
            <div class="engagement-info">
                <div class="engagement-number">222</div>
                <div class="engagement-name">MATT'S TEST CLIENT</div>
            </div>
            <ul class="nav-menu">
                <li class="nav-item">
                    <span class="nav-icon">üìä</span>
                    <span>Status</span>
                </li>
                <li class="nav-item">
                    <span class="nav-icon">üìÅ</span>
                    <span>Workpapers</span>
                </li>
                <li class="nav-item active">
                    <span class="nav-icon">‚öñ</span>
                    <span>Trial balance</span>
                </li>
                <li class="nav-item">
                    <span class="nav-icon">üìù</span>
                    <span>Journal entries</span>
                </li>
                <li class="nav-item">
                    <span class="nav-icon">üìã</span>
                    <span>Notes list</span>
                </li>
                <li class="nav-item">
                    <span class="nav-icon">üë•</span>
                    <span>Communications</span>
                </li>
                <li class="nav-item">
                    <span class="nav-icon">üìà</span>
                    <span>Analyze</span>
                </li>
                <li class="nav-item">
                    <span class="nav-icon">üß™</span>
                    <span>Test</span>
                </li>
            </ul>
        </div>

        <!-- Content Area -->
        <div class="content-area">
            <!-- Breadcrumb -->
            <div class="breadcrumb-container">
                <div class="breadcrumb">
                    <div class="breadcrumb-item">
                        <button class="breadcrumb-button">Home</button>
                    </div>
                    <span class="breadcrumb-separator">/</span>
                    <div class="breadcrumb-item">
                        <span class="breadcrumb-text">222 - MATT'S TEST CLIENT</span>
                    </div>
                    <span class="breadcrumb-separator">/</span>
                    <div class="breadcrumb-item">
                        <span class="breadcrumb-text">Lacerte f120Cfr2 (12/30/2023)</span>
                    </div>
                </div>
            </div>

            <!-- Import Wizard -->
            <div class="import-wizard">
                <!-- Wizard Steps -->
                <div class="wizard-steps">
                    <div class="wizard-step completed">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <h3>Select File</h3>
                            <p>Select file for import</p>
                        </div>
                    </div>
                    <div class="wizard-step completed">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <h3>Import options</h3>
                            <p>Select the options for the import</p>
                        </div>
                    </div>
                    <div class="wizard-step active">
                        <div class="step-number">3</div>
                        <div class="step-content">
                            <h3>Define data</h3>
                            <p>Define data in each column</p>
                        </div>
                    </div>
                </div>

                <!-- Import Content -->
                <div class="import-content">
                    <div class="template-section">
                        <label for="template">Select template</label>
                        <select id="template" class="template-dropdown">
                            <option value="">Select template...</option>
                            <option value="standard">Standard Template</option>
                            <option value="consolidated">Consolidated Template</option>
                        </select>
                    </div>

                    <div class="action-buttons">
                        <button class="action-btn">
                            üíæ Save
                        </button>
                        <button class="action-btn">
                            üóëÔ∏è Delete
                        </button>
                    </div>

                    <!-- Column Mapping Grid -->
                    <div class="mapping-grid">
                        <div class="grid-header">
                            <div class="grid-header-cell">Omit</div>
                            <div class="grid-header-cell">Issues</div>
                            <div class="grid-header-cell">Account Number</div>
                            <div class="grid-header-cell">Account Description</div>
                            <div class="grid-header-cell" id="header-col-5">
                                <div class="column-header-with-engagement">
                                    <div class="engagement-name-header">US East Subsidiary 1</div>
                                    <div class="balance-type-header">Unadjusted Balance</div>
                                    <div class="period-drcr-header">CP | DR/CR</div>
                                </div>
                            </div>
                            <div class="grid-header-cell" id="header-col-6">
                                <div class="column-header-with-engagement">
                                    <div class="engagement-name-header">US West Subsidiary 1</div>
                                    <div class="balance-type-header">Adjusted Balance</div>
                                    <div class="period-drcr-header">12/31/2022 | DR</div>
                                </div>
                            </div>
                            <div class="grid-header-cell" id="header-col-7">Not Used</div>
                            <div class="grid-header-cell" id="header-col-8">Not Used</div>
                            <div class="grid-header-cell" id="header-col-9">Not Used</div>
                            <div class="grid-header-cell" id="header-col-10">Not Used</div>
                        </div>

                        <div class="grid-row">
                            <div class="grid-cell">
                                <input type="checkbox">
                            </div>
                            <div class="grid-cell"></div>
                            <div class="grid-cell">City of Tillman Training...</div>
                            <div class="grid-cell"></div>
                            <div class="grid-cell">
                                <button class="edit-btn" onclick="openColumnDialog(5)">‚úèÔ∏è</button>
                            </div>
                            <div class="grid-cell">
                                <button class="edit-btn" onclick="openColumnDialog(6)">‚úèÔ∏è</button>
                            </div>
                            <div class="grid-cell">
                                <button class="edit-btn" onclick="openColumnDialog(7)">‚úèÔ∏è</button>
                            </div>
                            <div class="grid-cell">
                                <button class="edit-btn" onclick="openColumnDialog(8)">‚úèÔ∏è</button>
                            </div>
                            <div class="grid-cell">
                                <button class="edit-btn" onclick="openColumnDialog(9)">‚úèÔ∏è</button>
                            </div>
                            <div class="grid-cell">
                                <button class="edit-btn" onclick="openColumnDialog(10)">‚úèÔ∏è</button>
                            </div>
                        </div>

                        <div class="grid-row">
                            <div class="grid-cell">
                                <input type="checkbox">
                            </div>
                            <div class="grid-cell"></div>
                            <div class="grid-cell">Account</div>
                            <div class="grid-cell">Description</div>
                            <div class="grid-cell">49</div>
                            <div class="grid-cell">50</div>
                            <div class="grid-cell">51</div>
                            <div class="grid-cell">52</div>
                            <div class="grid-cell">53</div>
                            <div class="grid-cell">54</div>
                        </div>

                        <div class="grid-row">
                            <div class="grid-cell">
                                <input type="checkbox">
                            </div>
                            <div class="grid-cell">100</div>
                            <div class="grid-cell">1-01-1011011</div>
                            <div class="grid-cell">General Operating Funds</div>
                            <div class="grid-cell">1895550</div>
                            <div class="grid-cell">126854.55</div>
                            <div class="grid-cell">0</div>
                            <div class="grid-cell">2</div>
                            <div class="grid-cell">2</div>
                            <div class="grid-cell">0</div>
                        </div>

                        <div class="grid-row">
                            <div class="grid-cell">
                                <input type="checkbox">
                            </div>
                            <div class="grid-cell">200</div>
                            <div class="grid-cell">1-01-1151241</div>
                            <div class="grid-cell">Interest Receivable</div>
                            <div class="grid-cell">2942</div>
                            <div class="grid-cell">82334.45</div>
                            <div class="grid-cell">-51</div>
                            <div class="grid-cell">-51</div>
                            <div class="grid-cell">-52</div>
                            <div class="grid-cell">-54</div>
                        </div>

                        <div class="grid-row">
                            <div class="grid-cell">
                                <input type="checkbox">
                            </div>
                            <div class="grid-cell">300</div>
                            <div class="grid-cell">1-01-1151261</div>
                            <div class="grid-cell">Grants Receivable</div>
                            <div class="grid-cell">78897</div>
                            <div class="grid-cell">88946.55</div>
                            <div class="grid-cell">-51</div>
                            <div class="grid-cell">2</div>
                            <div class="grid-cell">2</div>
                            <div class="grid-cell">0</div>
                        </div>

                        <div class="grid-row">
                            <div class="grid-cell">
                                <input type="checkbox">
                            </div>
                            <div class="grid-cell">400</div>
                            <div class="grid-cell">1-01-1151271</div>
                            <div class="grid-cell">Hospital Receivables</div>
                            <div class="grid-cell">40191</div>
                            <div class="grid-cell">34075.41</div>
                            <div class="grid-cell">0</div>
                            <div class="grid-cell">-3</div>
                            <div class="grid-cell">-3</div>
                            <div class="grid-cell">0</div>
                        </div>
                    </div>
                </div>

                <!-- Bottom Actions -->
                <div class="bottom-actions">
                    <div class="nav-buttons">
                        <button class="nav-btn">‚óÄ Previous</button>
                        <button class="nav-btn primary">Done</button>
                    </div>
                    <button class="cancel-btn">Cancel</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Column Details Modal -->
    <div class="modal-overlay" id="columnModal">
        <div class="modal">
            <div class="modal-header">
                <h2 class="modal-title">Column Details</h2>
                <button class="close-btn" onclick="closeColumnDialog()">√ó</button>
            </div>

            <div class="form-group">
                <label class="form-label">Column Type:</label>
                <select class="form-select" id="columnType" onchange="handleColumnTypeChange()">
                    <option value="">Select column type...</option>
                    <option value="not-used">Not Used</option>
                    <option value="account-grouping">Account Grouping</option>
                    <option value="tax-information">Tax Information</option>
                    <option value="unadjusted-balance">Unadjusted Balance</option>
                    <option value="budget-balance">Budget Balance</option>
                    <option value="adjusted-budget-balance">Adjusted Budget Balance</option>
                    <option value="adjusted-balance">Adjusted Balance</option>
                    <option value="report-balance">Report Balance</option>
                    <option value="federal-tax-balance">Federal Tax Balance</option>
                    <option value="state-tax-balance">State Tax Balance</option>
                    <option value="other-balance">Other Balance</option>
                    <option value="proposed-balance">Proposed Balance</option>
                </select>
            </div>

            <div class="form-group" id="engagementGroup" style="display: none;">
                <label class="form-label">Target Engagement:</label>
                <div class="engagement-dropdown">
                    <div class="engagement-select" onclick="toggleEngagementDropdown()">
                        <span id="selectedEngagement">Select engagement...</span>
                        <span>‚ñº</span>
                    </div>
                    <div class="engagement-dropdown-menu" id="engagementDropdownMenu">
                        <div class="engagement-list" id="engagementList">
                            <!-- Will be populated by JavaScript -->
                        </div>
                    </div>
                </div>
            </div>

            <div class="form-group" id="periodGroup" style="display: none;">
                <label class="form-label">Period:</label>
                <select class="form-select" id="period">
                    <option value="current-period">Current Period[CP]</option>
                    <option value="12-31-2022">12/31/2022</option>
                    <option value="12-31-2021">12/31/2021</option>
                    <option value="12-31-2020">12/31/2020</option>
                    <option value="12-31-2019">12/31/2019</option>
                    <option value="12-31-2018">12/31/2018</option>
                    <option value="12-31-2017">12/31/2017</option>
                    <option value="12-31-2016">12/31/2016</option>
                </select>
            </div>

            <div class="form-group" id="drcrGroup" style="display: none;">
                <label class="form-label">DR/CR:</label>
                <select class="form-select" id="drcr">
                    <option value="dr-cr">DR/CR</option>
                    <option value="dr">DR</option>
                    <option value="cr">CR</option>
                </select>
            </div>

            <div class="modal-actions">
                <button class="btn btn-primary" onclick="saveColumnDetails()">Save</button>
                <button class="btn btn-secondary" onclick="closeColumnDialog()">Cancel</button>
            </div>
        </div>
    </div>
    <!-- Toast Message Container -->
    <div id="toastContainer"></div>

    <!-- Conflict Summary Panel -->
    <div id="conflictSummary" class="conflict-summary-panel">
        <div class="conflict-summary-header">
            <h3>Configuration Conflicts</h3>
            <button class="close-btn" onclick="hideConflictSummary()">&times;</button>
        </div>
        <div id="conflictSummaryContent" class="conflict-summary-content">
            <!-- Dynamic content populated by JavaScript -->
        </div>
    </div>
    <script src="styles-and-scripts/ssimportscript.js"></script>
    <script src="duplicate-prevention/duplicate-prevention-core.js"></script>
    <script src="duplicate-prevention/validation-messages.js"></script>
    <script src="duplicate-prevention/dropdown-integration.js"></script>
</body>
</html>